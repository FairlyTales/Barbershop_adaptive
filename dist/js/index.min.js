const tabletWidth=window.matchMedia("(min-width: 768px)"),desktopWidth=window.matchMedia("(min-width: 1200px)"),NavMenu=document.querySelector(".main-nav"),toggleNavMenu=document.querySelector(".main-nav__toggle"),slide=document.querySelectorAll(".slider__item"),sliderButtonAdvantages1=document.querySelector("#advantages-slide-1"),sliderButtonAdvantages2=document.querySelector("#advantages-slide-2"),sliderButtonAdvantages3=document.querySelector("#advantages-slide-3"),sliderButtonReviews1=document.querySelector("#reviews-slide-1"),sliderButtonReviews2=document.querySelector("#reviews-slide-2"),sliderButtonReviews3=document.querySelector("#reviews-slide-3"),newsItems=document.querySelectorAll(".news__item"),newsButton=document.querySelector(".news__button-to-all");let newsToggleStatus=0,alwaysShownNews=2;const prevButton=document.querySelector(".reviews__prev-button"),nextButton=document.querySelector(".reviews__next-button");let widthMeasurmentBlock=document.querySelector(".page-header"),currentWidth=widthMeasurmentBlock.clientWidth;const decorativeTriangles=document.querySelectorAll(".decorative-triangle");function removeNoJsFallback(){NavMenu.classList.remove("main-nav--no-js")}function adaptDecorativeTriangles(){for(let e=0;e!=decorativeTriangles.length;e++)decorativeTriangles[e].style.borderRightWidth=currentWidth/2+"px",decorativeTriangles[e].style.borderLeftWidth=currentWidth/2+"px"}function universalFeatures(){adaptDecorativeTriangles(),newsButton.addEventListener("click",(function(e){if(0==newsToggleStatus){e.preventDefault();for(let e=2;e<newsItems.length&6!=e;e++)newsItems[e].classList.remove("visually-hidden"),newsItems[e-1].classList.add("news__item--with-underline");newsButton.textContent="Скрыть",newsToggleStatus=1}else{e.preventDefault(),alwaysShownNews=desktopWidth.matches?3:2;for(let e=alwaysShownNews;e<newsItems.length&5!=e;e++)newsItems[e].classList.add("visually-hidden"),newsItems[e-1].classList.remove("news__item--with-underline");newsButton.textContent="Показать все",newsToggleStatus=0}})),sliderButtonReviews1.addEventListener("change",(function(e){slide[3].classList.remove("visually-hidden"),slide[4].classList.add("visually-hidden"),slide[5].classList.add("visually-hidden")})),sliderButtonReviews2.addEventListener("change",(function(e){slide[3].classList.add("visually-hidden"),slide[4].classList.remove("visually-hidden"),slide[5].classList.add("visually-hidden")})),sliderButtonReviews3.addEventListener("change",(function(e){slide[3].classList.add("visually-hidden"),slide[4].classList.add("visually-hidden"),slide[5].classList.remove("visually-hidden")}))}function activateMobileFeatures(){console.log("mobile version"),toggleNavMenu.addEventListener("click",(function(e){NavMenu.classList.contains("main-nav--closed")?(NavMenu.classList.remove("main-nav--closed"),NavMenu.classList.add("main-nav--opened")):(NavMenu.classList.add("main-nav--closed"),NavMenu.classList.remove("main-nav--opened"))})),sliderButtonAdvantages1.addEventListener("change",(function(e){slide[0].classList.remove("slider--hidden"),slide[1].classList.add("slider--hidden"),slide[2].classList.add("slider--hidden")})),sliderButtonAdvantages2.addEventListener("change",(function(e){slide[0].classList.add("slider--hidden"),slide[1].classList.remove("slider--hidden"),slide[2].classList.add("slider--hidden")})),sliderButtonAdvantages3.addEventListener("change",(function(e){slide[0].classList.add("slider--hidden"),slide[1].classList.add("slider--hidden"),slide[2].classList.remove("slider--hidden")}))}function activateTabletFeatures(){console.log("tablet version"),prevButton.addEventListener("click",(function(e){e.preventDefault(),sliderButtonReviews1.checked?(sliderButtonReviews3.checked=!0,slide[3].classList.add("visually-hidden"),slide[5].classList.remove("visually-hidden")):(sliderButtonReviews2.checked&&(sliderButtonReviews1.checked=!0,slide[4].classList.add("visually-hidden"),slide[3].classList.remove("visually-hidden")),sliderButtonReviews3.checked&&(sliderButtonReviews2.checked=!0,slide[5].classList.add("visually-hidden"),slide[4].classList.remove("visually-hidden")))})),nextButton.addEventListener("click",(function(e){e.preventDefault(),sliderButtonReviews1.checked?(sliderButtonReviews2.checked=!0,slide[3].classList.add("visually-hidden"),slide[4].classList.remove("visually-hidden")):sliderButtonReviews2.checked?(sliderButtonReviews3.checked=!0,slide[4].classList.add("visually-hidden"),slide[5].classList.remove("visually-hidden")):sliderButtonReviews3.checked&&(sliderButtonReviews1.checked=!0,slide[5].classList.add("visually-hidden"),slide[3].classList.remove("visually-hidden"))}))}function activateDesktopFeatures(){console.log("desktop version"),newsItems[2].classList.remove("visually-hidden")}function checkDeviceWidth(){tabletWidth.matches&&activateTabletFeatures(),desktopWidth.matches&&activateDesktopFeatures(),tabletWidth.matches||activateMobileFeatures()}removeNoJsFallback(),universalFeatures(),checkDeviceWidth();